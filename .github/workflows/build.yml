name: Cypress Tests
on: push
jobs:
 Cypress-Test:
   runs-on: ubuntu-latest
   steps:
     - name: Checkout GitCode
       uses: actions/checkout@v3
 
     - name: Run Cypress Test
       uses: cypress-io/github-action@v5
       with:
         command: npm run test:registerTest
     - name: Cypress Test Report
       uses: actions/upload-artifact@v4
      # if: always ()
       with:
         name: Cypress execution report
         path: cypress/reports/html # or path/to/artifact
         #retention-days:30

         #browser: chrome
     - name: Slack Notification
       uses: rtCamp/action-slack-notify@v2
       env:
        SLACK_COLOR: ${{ job.status }} # or a specific color like 'good' or '#ff00ff'
        SLACK_ICON: https://github.com/rtCamp.png?size=48
        SLACK_MESSAGE: 'Cypress Test Automation Report https://github.com/pkoriris/cypress-gha-tests/actions/runs/11416125401/job/31766981080'
        SLACK_TITLE: Cypress Tests
        SLACK_USERNAME: isronoh
        SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK }}